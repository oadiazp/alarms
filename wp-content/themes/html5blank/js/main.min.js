var fp_base={currentViewportWidth:0,currentViewportHeight:0,currentScrollPosition:0,previousScrollPosition:0,currentScrollDelta:0,bodyFontSizeEms:1.14285714285714,breakpoint720pxInEms:45,breakpoint960pxInEms:60.625,isEditing:!1,$userNeedsParallaxEl:null,$userNeedsParalaxImages:null,userNeedsParallaxThrottle:2,clickEventString:"click",trackableHandler:function(e){var a,t={},i=$(this).parents("[class*='cc_']"),n=$(this).parents("[class*='cv_']"),s=$(this).data("uv_detail"),r=$(this).data("uv_override"),l="";window.analyticsData&&(t.sn=fp_base.getSanitizedTrackingVariable(window.analyticsData.sn),t.pn=fp_base.getSanitizedTrackingVariable(window.analyticsData.pn)),t.pa=fp_base.getSanitizedTrackingVariable(fp_base.getTrackingVariableFromClassString($(this).parents("[class*='pa_']").attr("class"),"pa_")),t.cn=fp_base.getSanitizedTrackingVariable(fp_base.getTrackingVariableFromClassString($(this).parents("[class*='cn_']").attr("class"),"cn_")),t.cp=fp_base.getSanitizedTrackingVariable(fp_base.getTrackingVariableFromClassString($(this).parents("[class*='cp_']").attr("class"),"cp_")),a=t.cp+"_"+t.cn,i.length&&(t.cc=fp_base.getSanitizedTrackingVariable(fp_base.getTrackingVariableFromClassString(i.attr("class"),"cc_")),a+="_"+t.cc),n.length&&(t.cv=fp_base.getSanitizedTrackingVariable(fp_base.getTrackingVariableFromClassString(n.attr("class"),"cv_")),a+="_"+t.cv),t.ao=fp_base.getSanitizedTrackingVariable(fp_base.getTrackingVariableFromClassString($(this).attr("class"),"ao_")),$(this).children("img").length?t.uv=fp_base.getSanitizedTrackingVariable($(this).children("img").attr("alt")):"radio"===$(this).attr("type")&&"change"===e.type?t.uv=fp_base.getSanitizedTrackingVariable($(this).val()):$(this).is("select")?"change"===e.type?(r=null,t.uv=fp_base.getSanitizedTrackingVariable($(this).get(0).selectedOptions[0].text)):($(this).children("option").each(function(){l+=$(this).text()+" "}),t.uv=fp_base.getSanitizedTrackingVariable(l)):t.uv=fp_base.getSanitizedTrackingVariable($(this).is("input")?$(this).attr("placeholder"):$(this).text()),s&&(t.uv=fp_base.getSanitizedTrackingVariable(t.uv+"_"+s)),r&&(t.uv=fp_base.getSanitizedTrackingVariable(r)),window.TrackSitecoreEvent&&window.TrackSitecoreEvent(t.ao,t.pn+"-"+t.sn,t.pa+"-"+a,t.ao+"-"+t.uv),window.ga&&window.ga("send","event",t.pn+"-"+t.sn,t.pa+"-"+a,t.ao+"-"+t.uv),fp_base.logAnalyticsEvent({category:t.pn+"-"+t.sn,action:t.pa+"-"+a,label:t.ao+"-"+t.uv})},logAnalyticsEvent:function(e){(window.location.hostname.indexOf("modernclimate")>-1||window.location.hostname.indexOf("localhost")>-1||window.location.hostname.indexOf("www-cm")>-1)&&window.console.log(e)},getSanitizedTrackingVariable:function(e){return e?e.toString().toLowerCase().replace(/\r?\n/g,"").replace(/^\s+|\s+$/g,"").replace(/\u00a0/g,"_").replace(/ /g,"_").replace("-","_").replace(/[\u201C\u201D`~!@#$%^&*()|+\=?;:'",.<>\{\}\[\]\\\/]/gi,"_").replace(/_+/g,"_").replace(/_$/,""):(window.console.warn("inputString undefined in getSanitizedTrackingVariable()"),"")},getTrackingVariableFromClassString:function(e,a){return"string"==typeof e&&"string"==typeof a?$.grep(e.split(" "),function(e){return 0===e.indexOf(a)}).join().slice(3):(window.console.warn('classString or prefixString undefined or not of type "string" in getTrackingVariableFromClassString()',e,a),"")},getPixelsForEmBreakpoint:function(e){return parseInt($("body").css("font-size"))*fp_base.bodyFontSizeEms*e},setViewportSizeVariables:function(){fp_base.currentViewportWidth=parseInt($(window).width()),fp_base.currentViewportHeight=parseInt($(window).height())},manageVerticallyCenteredElements:function(){var e,a,t;$(".vertical-center-parent").each(function(){return e=$(this),a=e.parents(".center-container"),t=a.find("img:not(.loaded)"),e.css({height:"auto"}),e.parents(".modal-container").length>0?void e.css({height:fp_base.currentViewportHeight+"px"}):(fp_base.currentViewportWidth>=fp_base.getPixelsForEmBreakpoint(fp_base.breakpoint720pxInEms)&&e.css({height:a.innerHeight()+"px"}),void(t.length>0&&t.each(function(){$(this).on("load",function(){$(this).addClass("loaded").off("load"),setTimeout(function(){fp_base.manageVerticallyCenteredElements()},10)})})))})},manageScrollFixedElements:function(){$(".scroll-fixed").each(function(){if(void 0===$(this).data("initialTopOffset")&&($(this).data("top-offset-target")&&$($(this).data("top-offset-target")).length>0?$(this).data("initialTopOffset",$($(this).data("top-offset-target")).offset().top):$(this).data("initialTopOffset",$(this).offset().top)),fp_base.currentViewportWidth>=fp_base.getPixelsForEmBreakpoint(fp_base.breakpoint960pxInEms)){if($(this).hasClass("scroll-fixed-sm")===!0)return $(this).removeClass("fixed"),void $(this).parents(".scroll-fixed-container").css({height:"auto"})}else if($(this).hasClass("scroll-fixed-lg")===!0)return $(this).removeClass("fixed"),void $(this).parents(".scroll-fixed-container").css({height:"auto"});fp_base.currentScrollPosition>=$(this).data("initialTopOffset")?($(this).addClass("fixed"),$(this).data("should-insert-height-spanner")===!0&&$(this).parents(".scroll-fixed-container").css({height:$(this).height()})):($(this).removeClass("fixed"),$(this).parents(".scroll-fixed-container").css({height:"auto"}))})},manageCollapseCarousels:function(){var e=$(".collapse-carousel");e.length>0&&e.each(function(){fp_base.currentViewportWidth<fp_base.getPixelsForEmBreakpoint(fp_base.breakpoint720pxInEms)?$(this).addClass("owl-carousel").owlCarousel():$(this).data("owlCarousel")&&$(this).removeClass("owl-carousel").data("owlCarousel").destroy()})},reviewRevealHandler:function(){var e=+$(this).attr("data-times-clicked");return $(".review-block-wrapper.hide").first().removeClass("hide"),2===e?void $(this).fadeOut():(e++,$(this).attr("data-times-clicked",e),$(this).find("span.message.show").removeClass("show"),void $(this).find('span.message[data-message-num="'+e+'"]').addClass("show"))},archivedNewsRevealHandler:function(){$(".archived-news.hide").removeClass("hide"),$(this).parents(".see-more-news-wrapper").addClass("hide")},displayModalViewForTargetEl:function(e){var a,t=$("#"+e.data("target-modal-id")),i=t.find(".mf-player-container").data("mf-params"),n="";fp_base.isEditing!==!0&&(window.setTimeout(function(){t.addClass("show")},10),$("body").addClass("no-scroll"),t.hasClass("request-quote-modal")?n="request-a-quote":(n="video",i&&(a=i.split("&"),$.each(a,function(e,a){return"video_name"===a.split("=")[0]?(n=fp_base.getSanitizedTrackingVariable(a.split("=")[1]),!1):void 0}))),window.ga&&window.ga("send","pageview",{page:window.document.location.pathname+"/"+n,title:n}),fp_base.logAnalyticsEvent({page:window.document.location.pathname+"/"+n,title:n}))},hideModalViewForTargetEl:function(e){var a,t=e.parents(".modal-container"),i=t.find(".video-container");if(t.removeClass("show"),$("body").removeClass("no-scroll"),i&&window.brightcovePlayers)for(a=0;a<window.brightcovePlayers.length;a+=1)window.brightcovePlayers[a].videoPlayer.pause(!0),window.brightcovePlayers[a].videoPlayer.seek(0)},videoBtnHandler:function(e){e.preventDefault(),fp_base.displayModalViewForTargetEl($(this))},requestQuoteBtnHandler:function(e){},modalCloseBtnHandler:function(e){e.preventDefault(),fp_base.hideModalViewForTargetEl($(this))},toolTipHandler:function(){var e,a=$(this);if(a.hasClass("close-btn"))e=a.parents(".tool-tip"),e.hide();else{var t=$(".features-chart");t.find(".tool-tip:visible").hide(),e=a.next(".tool-tip"),e.show()}},checkFormElement:function(e){var a=!0,t=new RegExp(e.attr("pattern")),i=$('.error-message[data-target-input="'+e.attr("id")+'"]');return e.addClass("touched").removeClass("invalid"),t&&t.test(e.val())===!1?(e.addClass("invalid"),a=!1):e.removeClass("invalid"),e.attr("data-required")&&(""===e.val()||e.val()===e.attr("placeholder")?(e.addClass("invalid"),a=!1):a===!0&&e.removeClass("invalid")),a===!1?i.show():i.hide(),a},validateFormForSubmit:function(e){var a=!0,t=e.target?$(e.target):e;return t.parents(".form-block").find("input, textarea, select").each(function(){fp_base.checkFormElement($(this))===!1&&(a=!1)}),a},initFormValidation:function(){window.Modernizr.input.placeholder===!1&&$("input, textarea").each(function(){$(this).attr("placeholder")&&$(this).val($(this).attr("placeholder")).addClass("placeholder")}).bind("focus",function(){$(this).removeClass("placeholder"),$(this).val()===$(this).attr("placeholder")&&$(this).val("")}).bind("blur",function(){""===$(this).val()?$(this).val($(this).attr("placeholder")).addClass("placeholder"):$(this).removeClass("placeholder")}),$("input, textarea, select").bind("blur",function(){fp_base.checkFormElement($(this))})},headerNavRevealHandler:function(e){e.preventDefault(),$("#cn_global_header_navigation, #cn_landingpg_header_navigation").addClass("open"),$("body").addClass("no-scroll")},headerNavDismissHandler:function(e){e.preventDefault(),$("#cn_global_header_navigation, #cn_landingpg_header_navigation").removeClass("open"),$("body").removeClass("no-scroll"),$("#cn_global_header_navigation .sub-menu").removeClass("active")},headerNavSubMenuRevealHandler:function(e){var a=$(this).siblings(".sub-menu");$("#cn_global_header_navigation, #cn_landingpg_header_navigation").hasClass("cv_disable_sub_menus")===!1&&fp_base.currentViewportWidth<fp_base.getPixelsForEmBreakpoint(fp_base.breakpoint960pxInEms)&&(e.preventDefault(),a.addClass("active"))},headerNavSubMenuDismissHandler:function(e){e.preventDefault(),$("#cn_global_header_navigation .sub-menu").removeClass("active")},headerNavPageAnchorHandler:function(e){var a=$($(".cn_global_header_navigation").length?".cn_global_header_navigation":$(".cn_landingpg_header_navigation").length?".cn_landingpg_header_navigation":".lpmc_header"),t=0;e.preventDefault(),a.length&&(t=$($(this).attr("href")).offset().top-a.height(),$("html,body").animate({scrollTop:t},1e3))},tabNavigationOpenHandler:function(e){e.preventDefault(),$(this).parents(".cn_in_page_tab_navigation").toggleClass("open")},owlCarouselInteractionHandler:function(){var e=$(this).data("owlCarousel");e&&"stop"!==e.apStatus&&e.stop()},faqAnchorClickHandler:function(e){var a=$("html,body").scrollTop(),t=$($(this).attr("href")).offset().top-$(".cn_global_header_navigation").height();e.preventDefault(),$("html,body").animate({scrollTop:t},Math.abs(a-t)/100)},userNeedsTileClickToggleHandler:function(e){e.preventDefault(),$(this).parents(".user-needs-tile").toggleClass("active")},manageUserNeedsParallax:function(){var e,a,t,i,n=fp_base.$userNeedsParalaxImages.length,s=0;if(!(fp_base.currentViewportWidth<fp_base.getPixelsForEmBreakpoint(fp_base.breakpoint720pxInEms))&&fp_base.$userNeedsParallaxEl.offset().top<=fp_base.currentScrollPosition+fp_base.currentViewportHeight&&fp_base.$userNeedsParallaxEl.offset().top+fp_base.$userNeedsParallaxEl.height()>=fp_base.currentScrollPosition)for(fp_base.currentScrollDelta>0?(e="-=",a="+="):(e="+=",a="-="),t=fp_base.userNeedsParallaxThrottle*(Math.abs(fp_base.currentScrollDelta)/20),t>fp_base.userNeedsParallaxThrottle&&(t=fp_base.userNeedsParallaxThrottle),s;n>s;s++)i=fp_base.$userNeedsParalaxImages[s],Math.abs(parseInt($(i).css("marginTop")))+t>.25*$(i).height()&&$(i).css(parseInt($(i).css("marginTop"))>0?{marginTop:.249*$(i).height()}:{marginTop:$(i).height()*-.249}),$(i).css(s%2===0?{marginTop:e+t}:{marginTop:a+t})},windowScrollHandler:function(){var e=$(this).scrollTop();fp_base.currentScrollDelta=e-fp_base.previousScrollPosition,fp_base.previousScrollPosition=fp_base.currentScrollPosition,fp_base.currentScrollPosition=e,fp_base.$userNeedsParallaxEl&&fp_base.manageUserNeedsParallax(),fp_base.manageScrollFixedElements()},windowResizeHandler:function(){var e=0;if(fp_base.setViewportSizeVariables(),fp_base.manageVerticallyCenteredElements(),fp_base.manageScrollFixedElements(),fp_base.manageCollapseCarousels(),window.brightcovePlayers&&window.brightcovePlayers.length)for(e;e<window.brightcovePlayers.length;e+=1)fp_base.setBrightcoveVideoSize(window.brightcovePlayers[e])},initCarouselPaginationTracking:function(e,a){var t=e.find(".owl-page"),i=e.data("uv_detail"),n=e.data("uv_override"),s=1;t.each(function(){$(this).hasClass("trackable")===!1&&a&&$(this).bind(fp_base.clickEventString,fp_base.trackableHandler),$(this).addClass("trackable ao_slider"),i||n?(i&&$(this).attr("data-uv_detail","button_"+s.toString()+"_"+i),n&&$(this).attr("data-uv_override","button_"+s.toString()+"_"+n)):$(this).attr("data-uv_override","button_"+s.toString()),s+=1})},setBrightcoveVideoSize:function(e){var a,t=$(window).width(),i=.563*t;e.experienceModule.setSize&&"html"===e.videoPlayer.experience.type&&(a=$(brightcove.experiences[e.experienceModule.experience.id]),a.parents(".video-modal").length>0&&e.experienceModule.setSize(t,i))},initQuoteWizard:function(e){var a=e.find(".quote_form_inner .btn"),t=0;e.eq(t).addClass("is-active"),a.on("click",function(a){a.preventDefault(),t++,e.removeClass("is-active"),e.eq(t).addClass("is-active")})},init:function(){var e=0;fp_base.isEditing=$("body").is(".editing"),fp_base.setViewportSizeVariables(),fp_base.manageVerticallyCenteredElements(),fp_base.manageCollapseCarousels(),fp_base.initFormValidation(),window.Modernizr.touch===!0&&(fp_base.clickEventString="touchstart"),1===$(".cn_user_needs_lead_in").length&&(fp_base.$userNeedsParallaxEl=$(".cn_user_needs_lead_in"),fp_base.$userNeedsParalaxImages=fp_base.$userNeedsParallaxEl.find(".background-block img")),$(".owl-carousel").each(function(){var e,a=$(this).data("num-carousel-items"),t=$(this).data("is-carousel-single-item"),i=$(this).data("is-carousel-navigation"),n=$(this).data("num-carousel-autoplay"),s=$(this).data("num-carousel-start-slide"),r=$(this).data("uv_detail"),l=$(this).data("uv_override");e={itemsScaleUp:!0,items:a?a:5,mouseDrag:!fp_base.isEditing,touchDrag:!fp_base.isEditing,singleItem:t?!0:!1,navigation:i?!0:!1,autoPlay:n?n:!1,navigationText:['<span class="icon-arrow-left trackable ao_slider" data-uv_override="left_arrow"></span>','<span class="icon-arrow-right trackable ao_slider" data-uv_override="right_arrow"></span>'],afterInit:function(e){r&&(e.find(".icon-arrow-left").data("uv_detail",r),e.find(".icon-arrow-right").data("uv_detail",r)),l&&(e.find(".icon-arrow-left").data("uv_override",l),e.find(".icon-arrow-right").data("uv_override",l)),s&&e.trigger("owl.jumpTo",s-1),fp_base.initCarouselPaginationTracking(e,!1)},afterUpdate:function(e){fp_base.initCarouselPaginationTracking(e,!0)}},$(this).owlCarousel(e)}),$(".component").each(function(){e++,$(this).addClass("cp_"+e.toString())}),$(window).bind("scroll",fp_base.windowScrollHandler),$(window).bind("resize",fp_base.windowResizeHandler),$(".btn.video, .cn_resource_list .video").bind(fp_base.clickEventString,fp_base.videoBtnHandler),$(".modal-container .close-btn").bind(fp_base.clickEventString,fp_base.modalCloseBtnHandler),$(".btn.request-quote-btn").bind(fp_base.clickEventString,fp_base.requestQuoteBtnHandler),$("#reviewReveal").bind(fp_base.clickEventString,fp_base.reviewRevealHandler),$("#archivedNewsReveal").bind(fp_base.clickEventString,fp_base.archivedNewsRevealHandler),$("body").on(fp_base.clickEventString,".trackable:not(input)",fp_base.trackableHandler),$("body").on("focus","input.trackable",fp_base.trackableHandler),$("body").on("change",'input[type="radio"].trackable',fp_base.trackableHandler),$("body").on("change","select.trackable",fp_base.trackableHandler),$("body").on("mouseover",".feature-link-wrapper .trackable",fp_base.trackableHandler),$(".tool-tip .close-btn, .touch .feature-link-wrapper a").bind(fp_base.clickEventString,fp_base.toolTipHandler),$("#btn_global_header_navigation_reveal").bind(fp_base.clickEventString,fp_base.headerNavRevealHandler),$(".btn_global_header_navigation_dismiss").bind(fp_base.clickEventString,fp_base.headerNavDismissHandler),$(".btn_global_header_sub_menu_reveal").bind(fp_base.clickEventString,fp_base.headerNavSubMenuRevealHandler),$(".btn_global_header_sub_menu_dismiss").bind(fp_base.clickEventString,fp_base.headerNavSubMenuDismissHandler),$(".cn_in_page_tab_navigation .in_page_tab.active").bind(fp_base.clickEventString,fp_base.tabNavigationOpenHandler),$(".owl-carousel").bind(fp_base.clickEventString,fp_base.owlCarouselInteractionHandler),$(".user-needs-tile .button-layer").bind(fp_base.clickEventString,fp_base.userNeedsTileClickToggleHandler),$(".user-needs-tile .answer-layer .close-btn").bind(fp_base.clickEventString,fp_base.userNeedsTileClickToggleHandler),$(".cn_frequently_asked_questions_list .links-overview-container a").bind(fp_base.clickEventString,fp_base.faqAnchorClickHandler),$(".cn_frequently_asked_questions_list .back-to-top-btn").bind(fp_base.clickEventString,fp_base.faqAnchorClickHandler),fp_base.initQuoteWizard($(".js-quote_form-step")),$("#btn_landingpg_header_navigation_reveal").bind(fp_base.clickEventString,fp_base.headerNavRevealHandler),$(".btn_landingpg_header_navigation_dismiss").bind(fp_base.clickEventString,fp_base.headerNavDismissHandler),$(".btn_landingpg_header_navigation_page_anchor").bind(fp_base.clickEventString,fp_base.headerNavPageAnchorHandler),$(".btn_page_anchor").bind(fp_base.clickEventString,fp_base.headerNavPageAnchorHandler),$("form").on("submit",function(){$("[name='tcpa_permission_link']").val($("[name='xxTrustedFormCertUrl']").val())})}},onTemplateReady=function(){};$(document).ready(fp_base.init);